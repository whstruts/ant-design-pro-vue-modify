(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-398764a0"],{7329:function(n,t,e){"use strict";e.r(t);var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("a-card",[e("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[e("code",{staticClass:"java",domProps:{innerHTML:n._s(n.content)}})])])},o=[],i=(e("b8f9"),{name:"code-highlight.vue",computed:{},data:function(){return{content:"package org.pzy.winter.base.support.context;\n\nimport com.alibaba.ttl.TransmittableThreadLocal;\nimport org.pzy.winter.domain.GlobalConstant;\nimport org.pzy.winter.domain.SimpleUserInfo;\n\nimport java.util.Optional;\n\n/**\n * 存储当前上下文的用户信息\n *\n * @author pan\n * @since 2019-03-25\n */\npublic class CurrentUserContext {\n\n    /**\n     * 用户id\n     */\n    private static final ThreadLocal<SimpleUserInfo> USER_INFO = new TransmittableThreadLocal<>();\n\n    /**\n     * 填充用户信息到ThreadLocal中\n     *\n     * @param user\n     */\n    public static void setUser(SimpleUserInfo user) {\n        USER_INFO.set(user);\n    }\n\n    /**\n     * 从ThreadLocal获取用户信息\n     *\n     * @return\n     */\n    public static Optional<SimpleUserInfo> getUser() {\n        return Optional.ofNullable(USER_INFO.get());\n    }\n\n    /**\n     * 获取用户唯一标识\n     *\n     * @return\n     */\n    public static Optional<String> getUserFlag() {\n        Optional<SimpleUserInfo> optional = getUser();\n        return optional.isPresent() ? Optional.ofNullable(optional.get().getFlag()) : Optional.empty();\n    }\n\n    /**\n     * 获取用户唯一标识\n     *\n     * @return\n     */\n    public static Optional<Long> getUserId() {\n        Optional<SimpleUserInfo> optional = getUser();\n        return optional.isPresent() ? Optional.ofNullable(optional.get().getId()) : Optional.of(0L);\n    }\n\n    /**\n     * 获取用户真实姓名\n     *\n     * @return\n     */\n    public static Optional<String> getUserRealName() {\n        Optional<SimpleUserInfo> optional = getUser();\n        return optional.isPresent() ? Optional.ofNullable(optional.get().getRealName()) : Optional.of(GlobalConstant.EMPTY_STRING);\n    }\n\n    /**\n     * 获取用户昵称\n     *\n     * @return\n     */\n    public static Optional<String> getUserNikeName() {\n        Optional<SimpleUserInfo> optional = getUser();\n        return optional.isPresent() ? Optional.ofNullable(optional.get().getNikeName()) : Optional.of(GlobalConstant.EMPTY_STRING);\n    }\n\n    /**\n     * 清除ThreadLocal中的用户信息\n     */\n    public static void removeUser() {\n        USER_INFO.remove();\n    }\n}\n"}}}),l=i,r=e("2877"),p=Object(r["a"])(l,a,o,!1,null,"7036a23a",null);t["default"]=p.exports},b8f9:function(n,t,e){}}]);